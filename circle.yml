machine:
             node:
                          version: v6.1.0

dependencies:
             override:
                          - npm install stylus -g
                          - sudo apt-get install pandoc

test:
             override:
                          - perl build.pl
                          - stylus src/*.styl --compress
                          - cp src/*.{js,css} dest/

deployment:
             staging:
                          branch: master
                          commands:
                                       - git checkout --orphan gh-pages
                                       - mv CNAME dest/
                                       - ls | grep -v dest | xargs rm -rf
                                       - mv dest/* .
                                       - rm -r dest
                                       - rm .* || true
                                       - git add -A
                                       - git config user.name "Xnuk Shuman"
                                       - git config user.email "admin@xnu.kr"
                                       - git commit -m 'page'
                                       - git push origin gh-pages
